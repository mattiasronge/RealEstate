{"remainingRequest":"/Users/mattiasronge/Desktop/richar/Admin/node_modules/babel-loader/lib/index.js!/Users/mattiasronge/Desktop/richar/Admin/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/mattiasronge/Desktop/richar/Admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mattiasronge/Desktop/richar/Admin/src/pages/customer/product_list.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mattiasronge/Desktop/richar/Admin/src/pages/customer/product_list.vue","mtime":1577307368795},{"path":"/Users/mattiasronge/Desktop/richar/Admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mattiasronge/Desktop/richar/Admin/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/mattiasronge/Desktop/richar/Admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mattiasronge/Desktop/richar/Admin/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es7.object.get-own-property-descriptors\";\nimport \"core-js/modules/es6.object.keys\";\nimport \"core-js/modules/web.dom.iterable\";\nimport _defineProperty from \"/Users/mattiasronge/Desktop/richar/Admin/node_modules/@babel/runtime-corejs2/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { mapState } from \"vuex\";\nimport Lingallery from 'lingallery';\nimport Multiselect from 'vue-multiselect';\n\nvar numeral = require(\"numeral\");\n\nexport default {\n  name: 'PropertyList',\n  components: {\n    Lingallery: Lingallery,\n    Multiselect: Multiselect\n  },\n  props: ['id'],\n  data: function data() {\n    return {\n      country: 'Spain',\n      currentPage: 1,\n      bedrooms: [{\n        value: 0,\n        text: 'Any Bedrooms'\n      }, {\n        value: 1,\n        text: '1 Bedroom'\n      }, {\n        value: 2,\n        text: '2 Bedrooms'\n      }, {\n        value: 3,\n        text: '3 Bedrooms'\n      }, {\n        value: 4,\n        text: '4 Bedrooms'\n      }, {\n        value: 5,\n        text: '5 Bedrooms'\n      }, {\n        value: 6,\n        text: '6 Bedrooms'\n      }],\n      bathrooms: [{\n        value: 0,\n        text: 'Any Bathrooms'\n      }, {\n        value: 1,\n        text: '1 Bathroom'\n      }, {\n        value: 2,\n        text: '2 Bathrooms'\n      }, {\n        value: 3,\n        text: '3 Bathrooms'\n      }, {\n        value: 4,\n        text: '4 Bathrooms'\n      }, {\n        value: 5,\n        text: '5 Bathrooms'\n      }, {\n        value: 6,\n        text: '6 Bathrooms'\n      }],\n      filters: {\n        bedrooms: 0,\n        bathrooms: 0,\n        locations: [{\n          'title': 'Benahavis',\n          'location_id': 'c4'\n        }],\n        area: '',\n        period: 1,\n        types: [{\n          'title': 'Apartment',\n          'type_id': '1-1'\n        }, {\n          'title': 'House',\n          'type_id': '2-1'\n        }],\n        ref: '',\n        minPrice: 0,\n        maxPrice: 900000\n      }\n    };\n  },\n  created: function created() {\n    if (this.id > 0) this.currentPage = this.id;\n    this.getLocations();\n    this.getTypes();\n    this.getProperty_list();\n    this.getRefKeys();\n  },\n  computed: _objectSpread({}, mapState({\n    isLoading: function isLoading(state) {\n      return state.api.isLoading;\n    },\n    locations: function locations(state) {\n      return state.api.locations;\n    },\n    types: function types(state) {\n      return state.api.types;\n    },\n    property_list: function property_list(state) {\n      return state.api.property_list;\n    },\n    product: function product(state) {\n      return state.api.product;\n    },\n    ref_keys: function ref_keys(state) {\n      return state.api.ref_keys;\n    },\n    totalCount: function totalCount(state) {\n      return state.api.totalCount;\n    },\n    totalPages: function totalPages(state) {\n      return state.api.totalPages;\n    }\n  })),\n  filters: {\n    formatNumber: function formatNumber(value) {\n      return numeral(value).format(\"0,0\"); // displaying other groupings/separators is possible, look at the docs\n    }\n  },\n  methods: {\n    isSaved: function isSaved(ref) {\n      if (this.$store.state.api.ref_keys && this.$store.state.api.ref_keys.indexOf(ref) >= 0) {\n        return true;\n      }\n\n      return false;\n    },\n    getLocations: function getLocations() {\n      this.$store.dispatch('api/getLocations');\n    },\n    getRefKeys: function getRefKeys() {\n      this.$store.dispatch('api/getRefKeys');\n    },\n    getTypes: function getTypes() {\n      this.$store.dispatch('api/getTypes');\n    },\n    saveProduct: function saveProduct(ref_key) {\n      this.$store.dispatch('api/getPropery', {\n        id: ref_key\n      });\n      var that = this;\n      setTimeout(function () {\n        that.$toasted.show('The product is saved successfully.', {\n          theme: 'outline',\n          position: \"top-center\",\n          icon: 'info',\n          type: 'info',\n          duration: 3000\n        });\n      }, 2000);\n    },\n    getProperty_list: function getProperty_list() {\n      var f_types = [];\n      this.filters.types.forEach(function (item) {\n        if (item.type_id != '') f_types.push(item.type_id);\n      });\n      var f_locations = [];\n      this.filters.locations.forEach(function (item) {\n        if (item.location_id != '') f_locations.push(item.title);\n      });\n      this.$store.dispatch('api/getList', {\n        page: this.currentPage,\n        types: f_types,\n        locations: f_locations,\n        period: this.filters.period,\n        bedrooms: this.filters.bedrooms,\n        baths: this.filters.bathrooms,\n        minPrice: this.filters.minPrice * 1000,\n        maxPrice: this.filters.maxPrice * 1000\n      });\n    },\n    stars: function stars(count) {\n      var stars = \"\";\n\n      for (var i = 0; i < 5; i++) {\n        if (count > i) {\n          stars = stars + '<i class=\"fa fa-star font-warning\"></i>';\n        } else {\n          stars = stars + '<i class=\"fa fa-star font-warning-o\"></i>';\n        }\n      }\n\n      return stars;\n    }\n  }\n};",{"version":3,"sources":["product_list.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n\t<div>\n\t\t<Breadcrumbs main=\"Property from API\" title=\"List\"/>\n\t\t\t<!-- Container-fluid starts-->\n\t\t\t<div class=\"container-fluid\">\n\t\t\t\t<div class=\"m-b-30\">\n\t\t\t\t\t<span class=\"text-primary pull-right\">Total: {{totalCount}}</span>\n\t\t\t\t\t<b-pagination-nav\n\t\t\t\t\t:number-of-pages=\"totalPages\"\n\t\t\t\t\t:current-page=\"currentPage\"\n\t\t\t\t\tv-model=\"currentPage\"\n\t\t\t\t\tprev-text=\"Prev\"\n\t\t\t\t\tnext-text=\"Next\"\n\t\t\t\t\talign=\"center\"\n\t\t\t\t\tbase-url=\"#\"\n\t\t\t\t\t@change=\"getProperty_list\"\n\t\t\t\t\t></b-pagination-nav>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"row\">\n\t\t\t\t\t<div class=\"col-xl-3 xl-40\">\n\t\t\t\t\t\t<div class=\"default-according style-1 faq-accordion job-accordion\" id=\"accordionoc\">\n\t\t\t\t\t\t\t<div class=\"row\">\n\t\t\t\t\t\t\t\t<div class=\"col-xl-12\">\n\t\t\t\t\t\t\t\t\t<b-card no-body>\n\t\t\t\t\t\t\t\t\t\t<b-card-header header-tag=\"div\" role=\"tab\">\n\t\t\t\t\t\t\t\t\t\t\t<h5 class=\"mb-0\">\n\t\t\t\t\t\t\t\t\t\t\t\t<b-button class=\"btn btn-link pl-0\" block v-b-toggle.collapseicon>{{country}}</b-button>\n\t\t\t\t\t\t\t\t\t\t\t</h5>\n\t\t\t\t\t\t\t\t\t\t</b-card-header>\n\t\t\t\t\t\t\t\t\t\t<b-collapse id=\"collapseicon\" visible role=\"tabpanel\">\n\t\t\t\t\t\t\t\t\t\t\t<b-card-body class=\"filter-cards-view animate-chk\">\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"mb-5\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<h6 class=\"mb-2\">Property Types</h6>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<multiselect  v-model=\"filters.types\" placeholder=\"Search Type\" label=\"title\" track-by=\"type_id\" :options=\"types\" :multiple=\"true\" :taggable=\"false\"></multiselect>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"mb-5\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<h6 class=\"mb-2\">Property Locations</h6>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<multiselect  v-model=\"filters.locations\" placeholder=\"Search Type\" label=\"title\" track-by=\"location_id\" :options=\"locations\" :multiple=\"true\" :taggable=\"false\"></multiselect>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"mb-5\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<h6 class=\"mb-2\">Rental Period</h6>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"form-group m-t-15 custom-radio-ml\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"radio radio-primary\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<b-form-radio name=\"period\" v-model=\"filters.period\" value=\"1\">Any term</b-form-radio>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"radio radio-info\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<b-form-radio name=\"period\" v-model=\"filters.period\" value=\"2\">Short Term Rentals</b-form-radio>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"radio radio-warning\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<b-form-radio name=\"period\" v-model=\"filters.period\" value=\"3\">Long Term Rental</b-form-radio>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"radio radio-danger\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<b-form-radio name=\"period\" v-model=\"filters.period\" value=\"4\">Own properties And Featured properties</b-form-radio>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</b-card-body>\n\t\t\t\t\t\t\t\t\t\t\t<button class=\"btn btn-block btn-primary text-center\" type=\"button\" @click=\"getProperty_list\">Find Property</button>\n\t\t\t\t\t\t\t\t\t\t</b-collapse>\n\t\t\t\t\t\t\t\t\t</b-card>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class=\"col-xl-12\">\n\t\t\t\t\t\t\t\t\t<b-card no-body>\n\t\t\t\t\t\t\t\t\t\t<b-card-header header-tag=\"div\" role=\"tab\">\n\t\t\t\t\t\t\t\t\t\t\t<h5 class=\"mb-0\">\n\t\t\t\t\t\t\t\t\t\t\t\t<b-button class=\"btn btn-link pl-0\" block v-b-toggle.collapselocation>Details</b-button>\n\t\t\t\t\t\t\t\t\t\t\t</h5>\n\t\t\t\t\t\t\t\t\t\t</b-card-header>\n\t\t\t\t\t\t\t\t\t\t<b-collapse id=\"collapselocation\" visible role=\"tabpanel\">\n\t\t\t\t\t\t\t\t\t\t\t<b-card-body class=\"filter-cards-view animate-chk\">\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"mb-5\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<h6 class=\"mb-2\">Bedrooms</h6>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<b-form-select v-model=\"filters.bedrooms\" :options=\"bedrooms\"></b-form-select>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"mb-5\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<h6 class=\"mb-2\">Bathrooms</h6>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<b-form-select v-model=\"filters.bathrooms\" :options=\"bathrooms\"></b-form-select>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"mb-5\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<h6 class=\"mb-2\">Min Price</h6>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<b-input-group prepend=\"€\" append=\",000\" class=\"pill-input-group\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<b-form-input type=\"number\" v-model=\"filters.minPrice\" min=\"0\"></b-form-input>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</b-input-group>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"mb-5\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<h6 class=\"mb-2\">Max Price</h6>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<b-input-group prepend=\"€\" append=\",000\" class=\"pill-input-group\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<b-form-input type=\"number\" v-model=\"filters.maxPrice\" min=\"0\"></b-form-input>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</b-input-group>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</b-card-body>\n\t\t\t\t\t\t\t\t\t\t\t<button class=\"btn btn-block btn-primary text-center\" type=\"button\" @click=\"getProperty_list\">Find Property</button>\n\t\t\t\t\t\t\t\t\t\t</b-collapse>\n\t\t\t\t\t\t\t\t\t</b-card>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"col-xl-9 xl-60 bg-white\" v-if=\"isLoading\">\n\t\t\t\t\t\t<div class=\"loader\" style=\"position: absolute;top: 46%;left: 46%;\">\n\t\t\t\t\t\t\t<div class=\"whirly-loader\"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"col-xl-9 xl-60\" v-else>\n\t\t\t\t\t\t<div class=\"card\" v-for=\"(job,index) in property_list\" :key=\"index\">\n\t\t\t\t\t\t\t<div v-if=\"isSaved(job.ref_key)\" class=\"ribbon ribbon-bookmark ribbon-vertical-left ribbon-warning\"><i class=\"icofont icofont-save\"></i></div>\n\t\t\t\t\t\t\t<div class=\"card-body\">\n\t\t\t\t\t\t\t\t<div class=\"row pl-3\">\n\t\t\t\t\t\t\t\t\t<div class=\"sm-12 md-6 lg-5\" v-if=\"job.images && job.images.length>0\">\n\t\t\t\t\t\t\t\t\t\t<lingallery class=\"img-fluid m-r-20\" :height=\"280\" :width=\"380\" :mobileWidth=\"240\" :mobileHeight=\"240\" :showThumbnails=\"false\" :items=\"job.images\"/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class=\"sm-12 md-6 lg-7\">\n\t\t\t\t\t\t\t\t\t\t<div class=\"media-body\">\n\t\t\t\t\t\t\t\t\t\t\t<h4 class=\"f-w-600\">\n\t\t\t\t\t\t\t\t\t\t\t\t<router-link :to=\"{ name: 'PropertyDetails', params: { id: job.ref_key }}\">{{ job.title }}</router-link>\n\t\t\t\t\t\t\t\t\t\t\t</h4>\n\t\t\t\t\t\t\t\t\t\t\t<p>€<span>{{job.Price | formatNumber}}</span></p>\n\t\t\t\t\t\t\t\t\t\t\t<p><b>Features:</b> <span v-html=\"stars(job.stars)\"></span> &nbsp;<b>Type:</b> {{job.Type}}</p>\n\t\t\t\t\t\t\t\t\t\t\t<p><b>Location:</b> {{ job.Area }}, <span>{{ job.Location }}, {{ job.Location }} </span></p>\n\t\t\t\t\t\t\t\t\t\t\t<p><b>Inside:</b> <span class=\"pr-4\" v-if=\"job.Built && job.Built>0\">{{job.Built}}m²</span> <b>Outside:</b> <span v-if=\"job.GardenPlot && job.GardenPlot>0\">{{job.GardenPlot}}m²</span></p>\n\t\t\t\t\t\t\t\t\t\t\t<p><span><i class=\"icofont icofont-bed\"></i>: <b>{{ job.Bedrooms }}</b></span> <span><i class=\"icofont icofont-bathtub\"></i>: <b>{{ job.Bathrooms }}</b></span></p>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<p v-html=\"job.description\"></p>\n\t\t\t\t\t\t\t\t<button v-show=\"!isSaved(job.ref_key)\" class=\"btn btn-secondary mr-3 pull-right\" type=\"button\" @click=\"saveProduct(job.ref_key)\"><span><i class=\"fa fa-check\"></i></span> Save this</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"m-b-30\">\n\t\t\t\t\t\t\t<b-pagination-nav\n\t\t\t\t\t\t\t:number-of-pages=\"totalPages\"\n\t\t\t\t\t\t\t:current-page=\"currentPage\"\n\t\t\t\t\t\t\tv-model=\"currentPage\"\n\t\t\t\t\t\t\tprev-text=\"Prev\"\n\t\t\t\t\t\t\tnext-text=\"Next\"\n\t\t\t\t\t\t\talign=\"center\"\n\t\t\t\t\t\t\tbase-url=\"#\"\n\t\t\t\t\t\t\t@change=\"getProperty_list\"\n\t\t\t\t\t\t\t></b-pagination-nav>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<!-- Container-fluid Ends-->\n\t</div>\n</template>\n<script>\nimport { mapState } from \"vuex\";\nimport Lingallery from 'lingallery';\nimport Multiselect from 'vue-multiselect';\nvar numeral = require(\"numeral\");\nexport default\n{\n\tname:'PropertyList',\n\tcomponents: {\n\t\tLingallery,\n\t\tMultiselect\n\t},\n\tprops: ['id'],\n\tdata() {\n      return {\n\t\tcountry:'Spain',\n\t\tcurrentPage:1,\n\t\tbedrooms: [\n\t\t\t{ value:0, text: 'Any Bedrooms'},\n\t\t\t{ value:1, text: '1 Bedroom'},\n\t\t\t{ value:2, text: '2 Bedrooms'},\n\t\t\t{ value:3, text: '3 Bedrooms'},\n\t\t\t{ value:4, text: '4 Bedrooms'},\n\t\t\t{ value:5, text: '5 Bedrooms'},\n\t\t\t{ value:6, text: '6 Bedrooms'}\n\t\t],\n\t\tbathrooms: [\n\t\t\t{ value:0, text: 'Any Bathrooms'},\n\t\t\t{ value:1, text: '1 Bathroom'},\n\t\t\t{ value:2, text: '2 Bathrooms'},\n\t\t\t{ value:3, text: '3 Bathrooms'},\n\t\t\t{ value:4, text: '4 Bathrooms'},\n\t\t\t{ value:5, text: '5 Bathrooms'},\n\t\t\t{ value:6, text: '6 Bathrooms'}\n\t\t],\n        filters: {\n\t\t\tbedrooms: 0,\n\t\t\tbathrooms: 0,\n            locations:[{\n\t\t\t\t'title':'Benahavis',\n\t\t\t\t'location_id': 'c4',\n\t\t\t}\n\t\t\t],\n\t\t\tarea:'',\n\t\t\tperiod: 1,\n            types:[{\n\t\t\t\t\t'title':'Apartment',\n\t\t\t\t\t'type_id': '1-1',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t'title':'House',\n\t\t\t\t\t'type_id': '2-1',\n\t\t\t\t}\n\t\t\t],\n            ref:'',\n            minPrice:0,\n            maxPrice:900000\n        }\n      }\n    },\n\tcreated() {\n\t\tif (this.id>0)\n\t\t\tthis.currentPage = this.id;\n\t\tthis.getLocations();\n\t\tthis.getTypes();\n\t\tthis.getProperty_list();\n\t\tthis.getRefKeys();\n\t},\n\tcomputed: {\n\t\t...mapState({\n\t\t\tisLoading: state => state.api.isLoading,\n\t\t\tlocations: state => state.api.locations,\n\t\t\ttypes: state => state.api.types,\n\t\t\tproperty_list: state => state.api.property_list,\n\t\t\tproduct: state => state.api.product,\n\t\t\tref_keys: state => state.api.ref_keys,\n\t\t\ttotalCount: state => state.api.totalCount,\n\t\t\ttotalPages: state => state.api.totalPages\n\t\t})\n\t},\n\tfilters: {\n        formatNumber(value) {\n            return numeral(value).format(\"0,0\"); // displaying other groupings/separators is possible, look at the docs\n        }\n    },\n\tmethods:{\n\t\tisSaved(ref) {\n\t\t\tif (this.$store.state.api.ref_keys && this.$store.state.api.ref_keys.indexOf(ref) >= 0) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\tgetLocations(){\n\t\t\tthis.$store.dispatch('api/getLocations')\n\t\t},\n\t\tgetRefKeys() {\n\t\t\tthis.$store.dispatch('api/getRefKeys')\n\t\t},\n\t\tgetTypes(){\n\t\t\tthis.$store.dispatch('api/getTypes')\n\t\t},\n\t\tsaveProduct(ref_key) {\n\t\t\tthis.$store.dispatch('api/getPropery', {id:ref_key});\n\t\t\tlet that = this;\n\t\t\tsetTimeout(function () {\n\t\t\t\tthat.$toasted.show('The product is saved successfully.', {theme: 'outline',position: \"top-center\", icon : 'info', type: 'info', duration: 3000});\n\t\t\t}, 2000);\n\t\t},\n\t\tgetProperty_list() {\n\t\t\tlet f_types = [];\n\t\t\tthis.filters.types.forEach(item=>{\n\t\t\t\tif (item.type_id!='')\n\t\t\t\t\tf_types.push(item.type_id);\n\t\t\t});\n\t\t\tlet f_locations = [];\n\t\t\tthis.filters.locations.forEach(item=>{\n\t\t\t\tif (item.location_id!='')\n\t\t\t\t\tf_locations.push(item.title);\n\t\t\t});\n\t\t\tthis.$store.dispatch('api/getList', { page:this.currentPage, types: f_types, locations: f_locations, period: this.filters.period, bedrooms:this.filters.bedrooms, baths:this.filters.bathrooms, minPrice: this.filters.minPrice*1000, maxPrice: this.filters.maxPrice*1000 });\n\t\t},\n\t\tstars(count)\n\t\t{\n\t\t\tvar stars = \"\"\n\t\t\tfor (var i = 0; i < 5; i++)\n\t\t\t{\n\t\t\t\tif(count > i)\n\t\t\t\t{\n\t\t\t\t\tstars = stars + '<i class=\"fa fa-star font-warning\"></i>';\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tstars = stars + '<i class=\"fa fa-star font-warning-o\"></i>';\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn stars;\n\t\t}\n\t}\n}\n</script>\n<style src=\"vue-multiselect/dist/vue-multiselect.min.css\"></style>\n<style scoped>\n.card .ribbon-vertical-left {\n\tleft:15px;\n}\n.img-280 {\n\twidth:280px !important;\n}\n.media-body p {\n\tmargin-bottom:5px;\n\tfont-size:15px;\n}\n.media-body span {\n\tpadding-right:12px;\n}\n</style>"],"sourceRoot":"src/pages/customer"}]}