{"remainingRequest":"/Users/mattiasronge/Desktop/richar/Admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mattiasronge/Desktop/richar/Admin/src/pages/product/manual_product_list.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"/Users/mattiasronge/Desktop/richar/Admin/src/pages/product/manual_product_list.vue","mtime":1577398085673},{"path":"/Users/mattiasronge/Desktop/richar/Admin/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/Users/mattiasronge/Desktop/richar/Admin/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/mattiasronge/Desktop/richar/Admin/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/mattiasronge/Desktop/richar/Admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mattiasronge/Desktop/richar/Admin/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\n.img-thumbs {\r\n  width:100%;\r\n}\r\n.img-thumb {\r\n  list-style: none;\r\n  width:20%;\r\n  padding:3px;\r\n  border:1px solid #ddd;\r\n  float:left;\r\n  position: relative;\r\n}\r\n.img-thumb img {\r\n  width:100%;\r\n  height:100%;\r\n}\r\n.img-thumb a {\r\n  position: absolute;\r\n  top:4px;\r\n  right:4px;\r\n}\r\n.dropzone .dz-preview {\r\n  width: 160px;\r\n}\r\n.vue-dropzone .dz-preview .dz-image {\r\n  width:120px;\r\n}\r\n.vue-dropzone .dz-preview .dz-image img {\r\n  width: 135px;\r\n  height: 110px;\r\n}\r\n.vue-dropzone a.dz-remove {\r\n  cursor: pointer;\r\n}\r\n.vue-dropzone a.dz-remove:hover {\r\n  color: #F96332 !important;\r\n}\r\n",{"version":3,"sources":["manual_product_list.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2eA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"manual_product_list.vue","sourceRoot":"src/pages/product","sourcesContent":["<template>\r\n    <div>\r\n        <Breadcrumbs main=\"Products\" title=\"Manual Products\"/>\r\n        <!-- Container-fluid starts-->\r\n        <div class=\"container-fluid\">\r\n          <div class=\"row\">\r\n            <div class=\"col-md-12\">\r\n              <div class=\"card\">\r\n                <div class=\"card-header\">\r\n                  <div class=\"default-according style-1 faq-accordion job-accordion\">\r\n                    <b-card no-body>\r\n                      <b-card-header header-tag=\"div\" role=\"tab\">\r\n                        <h5 class=\"mb-0\">\r\n                          <b-button class=\"btn btn-link pl-0\" block v-b-toggle.collapseicon>Filter</b-button>\r\n                        </h5>\r\n                      </b-card-header>\r\n                      <b-collapse id=\"collapseicon\" visible role=\"tabpanel\">\r\n                        <b-card-body class=\"filter-cards-view animate-chk\">\r\n                          <div class=\"row mb-1\">\r\n                            <div class=\"col-md-6 col-lg-3\">\r\n                              <b-form-group\r\n                                label-cols-md=\"3\"\r\n                                label-align-md=\"right\"\r\n                                label=\"ID:\"\r\n                                label-for=\"filter-id\"\r\n                              >\r\n                                <b-form-input id=\"filter-id\" type=\"text\" class=\"form-control\" v-model=\"filters.id.value\" placeholder=\"ID value\"></b-form-input>\r\n                              </b-form-group>\r\n                            </div>\r\n                            <div class=\"col-md-6 col-lg-3\">\r\n                              <b-form-group\r\n                                label-cols-md=\"3\"\r\n                                label-align-md=\"right\"\r\n                                label=\"Ref:\"\r\n                                label-for=\"filter-ref\"\r\n                              >\r\n                                <b-form-input id=\"filter-ref\" type=\"text\" class=\"form-control\" v-model=\"filters.ref.value\" placeholder=\"ref key\"></b-form-input>\r\n                              </b-form-group>\r\n                            </div>\r\n                            <div class=\"col-md-6 col-lg-3\">\r\n                              <b-form-group\r\n                                label-cols-md=\"3\"\r\n                                label-align-md=\"right\"\r\n                                label=\"Title:\"\r\n                                label-for=\"filter-title\"\r\n                              >\r\n                                <b-form-input id=\"filter-title\" type=\"text\" class=\"form-control\" v-model=\"filters.title.value\" placeholder=\"title\"></b-form-input>\r\n                              </b-form-group>\r\n                            </div>\r\n                            <div class=\"col-md-6 col-lg-3\">\r\n                              <b-form-group\r\n                                label-cols-md=\"3\"\r\n                                label-align-md=\"right\"\r\n                                label=\"Type:\"\r\n                                label-for=\"filter-type\"\r\n                              >\r\n                                <b-form-input id=\"filter-type\" type=\"text\" class=\"form-control\" v-model=\"filters.type.value\" placeholder=\"type\"></b-form-input>\r\n                              </b-form-group>\r\n                            </div>\r\n                          </div>\r\n                          <div class=\"row mb-1\">\r\n                            <div class=\"col-md-6 col-lg-3\">\r\n                              <b-form-group\r\n                                label-cols-md=\"3\"\r\n                                label-align-md=\"right\"\r\n                                label=\"Location:\"\r\n                                label-for=\"filter-location\"\r\n                              >\r\n                                <b-form-input id=\"filter-location\" type=\"text\" class=\"form-control\" v-model=\"filters.location.value\" placeholder=\"location\"></b-form-input>\r\n                              </b-form-group>\r\n                            </div>\r\n                            <div class=\"col-md-6 col-lg-3\">\r\n                              <b-form-group\r\n                                label-cols-md=\"3\"\r\n                                label-align-md=\"right\"\r\n                                label=\"Area:\"\r\n                                label-for=\"filter-area\"\r\n                              >\r\n                                <b-form-input id=\"filter-area\" type=\"text\" class=\"form-control\" v-model=\"filters.area.value\" placeholder=\"area\"></b-form-input>\r\n                              </b-form-group>\r\n                            </div>\r\n                            <div class=\"col-md-6 col-lg-3\">\r\n                              <b-form-group\r\n                                label-cols-md=\"3\"\r\n                                label-align-md=\"right\"\r\n                                label=\"Bedroom:\"\r\n                                label-for=\"filter-bedroom\"\r\n                              >\r\n                                <b-form-input id=\"filter-bedroom\" type=\"number\" min=\"0\" class=\"form-control\" v-model=\"filters.bedroom.value\" placeholder=\"bedroom\"></b-form-input>\r\n                              </b-form-group>\r\n                            </div>\r\n                            <div class=\"col-md-6 col-lg-3\">\r\n                              <b-form-group\r\n                                label-cols-md=\"3\"\r\n                                label-align-md=\"right\"\r\n                                label=\"Bathroom:\"\r\n                                label-for=\"filter-bathroom\"\r\n                              >\r\n                                <b-form-input id=\"filter-bathroom\" type=\"number\" min=\"0\" class=\"form-control\" v-model=\"filters.bathroom.value\" placeholder=\"bathroom\"></b-form-input>\r\n                              </b-form-group>\r\n                            </div>\r\n                          </div>\r\n                          <div class=\"row mb-1\">\r\n                            <div class=\"col-lg-3 col-md-6 col-sm-12 mb-3\">\r\n                              <b-form-group\r\n                                label-cols-md=\"3\"\r\n                                label-align-md=\"right\"\r\n                                label=\"Min Price:\"\r\n                                label-for=\"filter-min\"\r\n                              >\r\n                                <b-input-group class=\"datatable-label\">\r\n                                  <b-input-group-prepend>\r\n                                    <b-button class=\"btn-dark btn-xs bootstrap-touchspin-down\" type=\"button\" @click=\"subMin\"><i class=\"fa fa-minus\"></i></b-button>\r\n                                  </b-input-group-prepend>\r\n                                  <b-form-input class=\"touchspin\" type=\"text\" v-model=\"filters.price.value.min\"></b-form-input>\r\n                                  <b-input-group-append>\r\n                                    <b-button class=\"btn-dark btn-xs bootstrap-touchspin-down\" type=\"button\" @click=\"addMin\"><i class=\"fa fa-plus\"></i></b-button>\r\n                                  </b-input-group-append>\r\n                                </b-input-group>\r\n                              </b-form-group>\r\n                            </div>\r\n                            <div class=\"col-lg-3 col-md-6 col-sm-12 mb-3\">\r\n                              <b-form-group\r\n                                  label-cols-md=\"3\"\r\n                                  label-align-md=\"right\"\r\n                                  label=\"Max Price:\"\r\n                                  label-for=\"filter-min\"\r\n                                >\r\n                                <b-input-group class=\"datatable-label pull-right mb-0\">\r\n                                  <b-input-group-prepend>\r\n                                    <b-button class=\"btn-dark btn-xs bootstrap-touchspin-down\" type=\"button\" @click=\"subMax\"><i class=\"fa fa-minus\"></i></b-button>\r\n                                  </b-input-group-prepend>\r\n                                  <b-form-input class=\"touchspin\" type=\"text\" v-model=\"filters.price.value.max\"></b-form-input>\r\n                                  <b-input-group-append>\r\n                                    <b-button class=\"btn-dark btn-xs bootstrap-touchspin-down\" type=\"button\" @click=\"addMax\"><i class=\"fa fa-plus\"></i></b-button>\r\n                                  </b-input-group-append>\r\n                                </b-input-group>\r\n                              </b-form-group>\r\n                            </div>\r\n                            <div class=\"col-lg-3 col-md-6 col-sm-12 mb-3\">\r\n                              <b-form-group\r\n                                  label-cols-md=\"3\"\r\n                                  label-align-md=\"right\"\r\n                                  label=\"Square >\"\r\n                                  label-for=\"filter-square\"\r\n                                >\r\n                                <b-input-group prepend=\"m²\">\r\n                                  <b-form-input id=\"filter-square\" class=\"touchspin\" type=\"number\" placeholder=\"square\" min=\"0\" v-model=\"filters.square.value\"></b-form-input>\r\n                                </b-input-group>\r\n                              </b-form-group>\r\n                            </div>\r\n                            <div class=\"col-lg-3 col-md-6 col-sm-12 mb-3\">\r\n                              <b-form-group\r\n                                  label-cols-md=\"3\"\r\n                                  label-align-md=\"right\"\r\n                                  label=\"Outside >\"\r\n                                  label-for=\"filter-outside\"\r\n                                >\r\n                                <b-input-group prepend=\"m²\">\r\n                                  <b-form-input id=\"filter-outside\" class=\"touchspin\" type=\"number\" placeholder=\"outside\" min=\"0\" v-model=\"filters.outside.value\"></b-form-input>\r\n                                </b-input-group>\r\n                              </b-form-group>\r\n                            </div>\r\n                          </div>\r\n                        </b-card-body>\r\n                      </b-collapse>\r\n                    </b-card>\r\n                  </div>\r\n                  <b-row>\r\n                    <b-col md=\"6\" class=\"add-datatable\">\r\n                      <b-button variant=\"success\" @click=\"addRow()\" class=\"mb-6\"><i class=\"icofont icofont-ui-add\"></i>&nbsp; Manual Product</b-button>\r\n                    </b-col>\r\n                    <b-col md=\"6\">\r\n                      <b-form-group label-cols=\"2\" label=\"Per page\" class=\"datatable-select\">\r\n                        <b-form-select v-model=\"perPage\" :options=\"pageOptions\"></b-form-select>\r\n                      </b-form-group>\r\n                    </b-col>\r\n                  </b-row>\r\n                </div>\r\n                <div class=\"card-body\" v-if=\"products\">\r\n                  <div class=\"datatable-vue m-0\">\r\n                    <div class=\"table-responsive vue-smart\">\r\n                      <v-table\r\n                      :data=\"products\" class=\"table\"\r\n                      :currentPage.sync=\"filters.currentPage\"\r\n                      :pageSize=\"perPage\"\r\n                      @totalPagesChanged=\"filters.totalPages = $event\"\r\n                      :filters=\"filters\"\r\n                      >\r\n                        <thead slot=\"head\">\r\n                          <v-th sortKey=\"ref_key\">Ref</v-th>\r\n                          <v-th sortKey=\"title\">Title</v-th>\r\n                          <v-th sortKey=\"type.title\">type</v-th>\r\n                          <v-th sortKey=\"location.title\">location</v-th>\r\n                          <v-th sortKey=\"area.title\">area</v-th>\r\n                          <v-th sortKey=\"price\">Price</v-th>\r\n                          <v-th sortKey=\"bedroom\">bedroom</v-th>\r\n                          <v-th sortKey=\"bathroom\">bathroom</v-th>\r\n                          <v-th sortKey=\"square\">Square</v-th>\r\n                          <v-th sortKey=\"outside\">Outside</v-th>\r\n                          <v-th sortKey=\"_id\">Actions</v-th>\r\n                        </thead>\r\n                        <tbody slot=\"body\" slot-scope=\"{displayData}\">\r\n                          <tr v-for=\"row in displayData\" :key=\"row.id\">\r\n                            <td>{{ row.ref_key }}</td>\r\n                            <td>\r\n                              <div class=\"row\">\r\n                                <div class=\"col-lg-12 col-xl-4 text-right\">\r\n                                  <img v-lazy=\"row.images[0]\" alt=\"\"/>\r\n                                </div>\r\n                                <div class=\"col-lg-12 col-xl-8\">\r\n                                  <p>{{ row.title }}</p>\r\n                                </div>\r\n                              </div>\r\n                            </td>\r\n                            <td>{{ row.type.title }}</td>\r\n                            <td>{{ row.location.title }}</td>\r\n                            <td>{{ row.area.title }}</td>\r\n                            <td>{{ row.price }}</td>\r\n                            <td>{{ row.bedroom }}</td>\r\n                            <td>{{ row.bathroom }}</td>\r\n                            <td>{{ row.square }}</td>\r\n                            <td>{{ row.outside }}</td>\r\n                            <td>\r\n                              <a href=\"JavaScript:void(0);\" @click=\"editRow(row._id)\"><span class=\"text-info\"><i class=\"fa fa-pencil f-18 sf-right\"></i></span></a> &nbsp; \r\n                              <a href=\"JavaScript:void(0);\" @click=\"deleteRow(row._id)\"><span class=\"text-danger\"><i class=\"fa fa-trash f-18 sf-right\"></i></span></a>\r\n                            </td>\r\n                          </tr>\r\n                        </tbody>\r\n                      </v-table>\r\n                    </div>\r\n                    <smart-pagination\r\n                    :currentPage.sync=\"filters.currentPage\"\r\n                    :totalPages=\"filters.totalPages\"/>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <b-modal id=\"modal-product\" size=\"xl\" title=\"Save Product\" centered no-stacking hide-footer class=\"theme-modal\" @hidden=\"resetModal\" @shown=\"focusMyElement\">\r\n              <div class=\"container-fluid bd-example-row grid-showcase\" v-if=\"product\">\r\n                <b-form ref=\"form\" class=\"needs-validation\" @submit.stop.prevent=\"handleSubmit(product._id)\">\r\n                  <div class=\"form-row\">\r\n                      <div class=\"col-md-12 mb-3\">\r\n                        <label for=\"title\">Title:</label>\r\n                        <b-form-input type=\"text\" id=\"title\" ref=\"focusThis\" v-model=\"product.title\" required placeholder=\"Title\"></b-form-input>\r\n                      </div>\r\n                      <div class=\"col-md-12 mb-3\">\r\n                        <label for=\"textarea\">Description:</label>\r\n                        <!-- <b-form-textarea id=\"textarea\" v-model=\"product.description\" placeholder=\"Enter something...\" rows=\"3\" max-rows=\"6\"></b-form-textarea> -->\r\n                        <ckeditor :editor=\"editor\"  v-model=\"product.description\"></ckeditor>\r\n                      </div>\r\n                      <div class=\"col-md-12 mb-3\">\r\n                        <label for=\"textarea\">Additional Features:</label>\r\n                        <ckeditor :editor=\"editor\"  v-model=\"product.description_2\"></ckeditor>\r\n                      </div>\r\n                  </div>\r\n                  <div class=\"form-row\">\r\n                      <div class=\"col-md-3 mb-3\">\r\n                        <label for=\"price\"><i class=\"icofont icofont-bank\"></i> Price</label>\r\n                        <b-input-group prepend=\"€\">\r\n                          <b-form-input type=\"text\" id=\"price\" required v-model=\"product.price\" placeholder=\"Price\" min=\"0\"></b-form-input>\r\n                        </b-input-group>\r\n                      </div>\r\n                      <div class=\"col-md-3 mb-3\">\r\n                        <label for=\"type\">Type</label>\r\n                        <b-form-select id=\"type\" required v-model=\"product.type\" value-field=\"_id\" text-field=\"title\" :options=\"types\"></b-form-select>\r\n                      </div>\r\n                      <div class=\"col-md-3 mb-3\">\r\n                        <label for=\"location\">Location</label>\r\n                        <b-form-select id=\"location\" required v-model=\"product.location\" value-field=\"_id\" text-field=\"title\" :options=\"locations\"></b-form-select>\r\n                      </div>\r\n                      <div class=\"col-md-3 mb-3\">\r\n                        <label for=\"area\">Area</label>\r\n                        <b-form-select id=\"area\" required v-model=\"product.area\" value-field=\"_id\" text-field=\"title\" :options=\"areas\"></b-form-select>\r\n                      </div>\r\n                  </div>\r\n                  <div class=\"form-row\">\r\n                      <div class=\"col-md-6 col-lg-3 mb-3\">\r\n                        <label for=\"bedroom\"><i class=\"icofont icofont-bed\"></i> bedroom</label>\r\n                        <b-form-input type=\"number\" id=\"bedroom\" required v-model=\"product.bedroom\" placeholder=\"bedroom\" min=\"0\"></b-form-input>\r\n                      </div>\r\n                      <div class=\"col-md-6 col-lg-3 mb-3\">\r\n                        <label for=\"bathroom\"><i class=\"icofont icofont-bathtub\"></i> bathroom</label>\r\n                        <b-form-input type=\"number\" id=\"bathroom\" required v-model=\"product.bathroom\" placeholder=\"bathroom\" min=\"0\"></b-form-input>\r\n                      </div>\r\n                      <div class=\"col-md-6 col-lg-3 mb-3\">\r\n                        <label for=\"square\"><i class=\"icofont icofont-hotel\"></i> square</label>\r\n                        <b-input-group prepend=\"m²\">\r\n                          <b-form-input type=\"number\" id=\"square\" required v-model=\"product.square\" placeholder=\"square\" min=\"0\"></b-form-input>\r\n                        </b-input-group>\r\n                      </div>\r\n                      <div class=\"col-md-6 col-lg-3 mb-3\">\r\n                        <label for=\"outside\"><i class=\"icofont icofont-home\"></i> outside</label>\r\n                        <b-input-group prepend=\"m²\">\r\n                          <b-form-input type=\"number\" id=\"outside\" required v-model=\"product.outside\" placeholder=\"outside\" min=\"0\"></b-form-input>\r\n                        </b-input-group>\r\n                      </div>\r\n                  </div>\r\n                  <div class=\"mb-4\">\r\n                    <h5>File Upload</h5>\r\n                    <vue-dropzone ref=\"dropzone\" id=\"dropzone\" :options=\"dropzoneOptions\" class=\"dropzone digits\" @vdropzone-error=\"removeDropFile\" @vdropzone-success=\"afterComplete\"></vue-dropzone>\r\n                  </div>\r\n                  <ul class=\"img-thumbs form-row mb-4\">\r\n                    <li class=\"img-thumb\" v-for=\"(img,i) in product.images\" :key=\"i\">\r\n                      <img v-bind:src=\"img\" />\r\n                      <a href=\"JavaScript:void(0);\" @click=\"removeProductImg(img)\"><i class=\"fa fa-trash f-18 sf-right\"></i></a>\r\n                    </li>\r\n                  </ul>\r\n                  <div class=\"form-row mb-4\">\r\n                    <b-button type=\"submit\" variant=\"primary\">Save</b-button>\r\n                  </div>\r\n                </b-form>\r\n              </div>\r\n            </b-modal>\r\n          </div>\r\n        </div>\r\n        <!-- Container-fluid Ends-->\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState } from \"vuex\";\r\n// Import the editor\r\nimport CKEditor from '@ckeditor/ckeditor5-vue';\r\nimport ClassicEditor from '@ckeditor/ckeditor5-build-classic';\r\nimport vue2Dropzone from 'vue2-dropzone';\r\n\r\nexport default {\r\n  components: {\r\n    ckeditor: CKEditor.component,\r\n    vueDropzone: vue2Dropzone\r\n  },\r\n  data(){\r\n    return{\r\n      dropzoneOptions:{\r\n        url:process.env.VUE_APP_BACKEND_URL+'api/upload',\r\n        thumbnailWidth: 250,\r\n        thumbnailHeight: 140,\r\n        acceptedFiles: 'image/jpeg,image/png',\r\n        maxFiles:1,\r\n        maxFilesize: 2,\r\n        dictDefaultMessage:\"<i class='icon-cloud-up'></i><h6>Drop files here or click to upload.</h6>\"\r\n      },\r\n      editor: ClassicEditor,\r\n      perPage: 10,\r\n      pageOptions: [5, 10, 15],\r\n      totalRows: 1,\r\n      currentPage: 1,\r\n      filters: {\r\n        currentPage:1,\r\n        totalPages:0,\r\n\t\t\t\tid: { value: '', keys: ['_id'] },\r\n\t\t\t\tref: { value: '', keys: ['ref_key'] },\r\n\t\t\t\ttitle: { value: '', keys: ['title'] },\r\n\t\t\t\ttype: { value: '', keys: ['type.title'] },\r\n\t\t\t\tlocation: { value: '', keys: ['location.title'] },\r\n\t\t\t\tarea: { value: '', keys: ['area.title'] },\r\n\t\t\t\tbedroom: { value: '', keys: ['bedroom'] },\r\n        bathroom: { value: '', keys: ['bathroom'] },\r\n        square: { value: '0', custom: this.squareFilter },\r\n        outside: { value: '0', custom: this.outsideFilter },\r\n        price: { value: { min: 10000, max: 900000000 }, custom: this.priceFilter }\r\n\t\t\t}\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState({\r\n      products: state => state.manual_product.products,\r\n      product: state => state.manual_product.product,\r\n      locations: state => state.category.locations,\r\n      areas: state => state.category.areas,\r\n      types: state => state.category.types\r\n    })       \r\n  },\r\n  created() {\r\n    this.getProducts();\r\n    this.getLocations();\r\n    this.getAreas();\r\n    this.getTypes();\r\n  }, \r\n  methods: {\r\n    afterComplete(file, response) {\r\n      if (response.file.filename && response.file.filename!='')\r\n        this.$store.dispatch('manual_product/addProductImage', {img: response.file.filename});\r\n      this.$refs.dropzone.removeAllFiles();\r\n    },\r\n    removeProductImg(image) {\r\n      this.$store.dispatch('manual_product/removeProductImage', {img: image});\r\n    },\r\n    removeDropFile() {\r\n      this.$refs.dropzone.removeAllFiles();\r\n    },\r\n    focusMyElement() {\r\n      this.$refs.focusThis.focus()\r\n    },\r\n    resetModal() {\r\n      this.name = ''\r\n      this.nameState = null\r\n    },\r\n    handleSubmit(id) {\r\n      this.$store.dispatch('manual_product/saveProduct', {id: id});\r\n      // Hide the modal manually\r\n      this.$nextTick(() => {\r\n        this.$bvModal.hide('modal-product');\r\n        this.$toasted.show('The product is saved successfully.', {theme: 'outline',position: \"top-center\", icon : 'info', type: 'info', duration: 3000});\r\n      })\r\n    },\r\n    showConfirmBox(id) {\r\n      this.$bvModal.msgBoxConfirm('Please confirm that you want to delete the Product with ID: '+id, {\r\n        title: 'Please Confirm',\r\n        size: 'sm',\r\n        buttonSize: 'sm',\r\n        okVariant: 'danger',\r\n        okTitle: 'YES',\r\n        cancelTitle: 'NO',\r\n        footerClass: 'p-2',\r\n        hideHeaderClose: false,\r\n        centered: true\r\n      })\r\n      .then(value => {\r\n        if (value)\r\n        {\r\n          this.$store.dispatch('manual_product/deleteProduct', {id: id});\r\n          this.$toasted.show('The product is deleted successfully.', {theme: 'outline',position: \"top-center\", icon : 'times', type: 'error', duration: 3000});\r\n        }\r\n      })\r\n      .catch(err => {\r\n        console.log(err);\r\n        // An error occurred\r\n      })\r\n    },\r\n    addRow() {\r\n      this.$store.dispatch('manual_product/emptyProduct');\r\n      this.$bvModal.show('modal-product');\r\n    },\r\n    editRow(id){\r\n      this.$store.dispatch('manual_product/getProduct', {id: id});\r\n      this.$bvModal.show('modal-product');\r\n    },\r\n    deleteRow(id){\r\n      this.showConfirmBox(id);\r\n    },\r\n    getProducts(){\r\n        this.$store.dispatch('manual_product/getProducts')\r\n    },\r\n    getLocations(){\r\n        this.$store.dispatch('category/getLocations')\r\n    },\r\n    getAreas(){\r\n        this.$store.dispatch('category/getAreas')\r\n    },\r\n    getTypes(){\r\n        this.$store.dispatch('category/getTypes')\r\n    },\r\n    addMin:function(){\r\n\t\t\tif(parseInt(this.filters.price.value.min) < this.filters.price.value.max)\r\n\t\t\t{\r\n\t\t\t\tthis.filters.price.value.min = parseInt(this.filters.price.value.min) + 10000;\r\n\t\t\t}\r\n\t\t},\r\n\t\tsubMin:function(){\r\n\t\t\tif(parseInt(this.filters.price.value.min) > 10000)\r\n\t\t\t{\r\n\t\t\t\tthis.filters.price.value.min = parseInt(this.filters.price.value.min) - 10000;\r\n\t\t\t}\r\n\t\t},\r\n\t\taddMax:function(){\r\n\t\t\tif(parseInt(this.filters.price.value.max) < 900000000)\r\n\t\t\t{\r\n\t\t\t\tthis.filters.price.value.max = parseInt(this.filters.price.value.max) + 10000;\r\n\t\t\t}\r\n\t\t},\r\n\t\tsubMax:function(){\r\n\t\t\tif(parseInt(this.filters.price.value.max) > parseInt(this.filters.price.value.min))\r\n\t\t\t{\r\n\t\t\t\tthis.filters.price.value.max = parseInt(this.filters.price.value.max) - 10000;\r\n\t\t\t}\r\n\t\t},\r\n    priceFilter (filterValue, row) {\r\n\t\t\treturn row.price >= filterValue.min && row.price <= filterValue.max\r\n    },\r\n    squareFilter (filterValue, row) {\r\n\t\t\treturn row.square >= filterValue\r\n    },\r\n    outsideFilter (filterValue, row) {\r\n\t\t\treturn row.outside >= filterValue\r\n\t\t}\r\n  }\r\n}\r\n</script>\r\n<style>\r\n.img-thumbs {\r\n  width:100%;\r\n}\r\n.img-thumb {\r\n  list-style: none;\r\n  width:20%;\r\n  padding:3px;\r\n  border:1px solid #ddd;\r\n  float:left;\r\n  position: relative;\r\n}\r\n.img-thumb img {\r\n  width:100%;\r\n  height:100%;\r\n}\r\n.img-thumb a {\r\n  position: absolute;\r\n  top:4px;\r\n  right:4px;\r\n}\r\n.dropzone .dz-preview {\r\n  width: 160px;\r\n}\r\n.vue-dropzone .dz-preview .dz-image {\r\n  width:120px;\r\n}\r\n.vue-dropzone .dz-preview .dz-image img {\r\n  width: 135px;\r\n  height: 110px;\r\n}\r\n.vue-dropzone a.dz-remove {\r\n  cursor: pointer;\r\n}\r\n.vue-dropzone a.dz-remove:hover {\r\n  color: #F96332 !important;\r\n}\r\n</style>"]}]}